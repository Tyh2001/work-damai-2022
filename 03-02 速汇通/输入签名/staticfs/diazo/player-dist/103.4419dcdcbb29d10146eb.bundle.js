(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{2702:function(t,i,n){var e,s;e=[n(27),n(99)],void 0===(s=function(t,i){"use strict";var e=n(0);t=e(t),i=e(i),function(){function n(n,e,s){function o(t,i,n,e,s,o){this.height=t,this.width=i,this.jitter=o,this.points=[],this.spacing=e,this.num_points=i/e|0,this.scale_x=i/this.num_points;for(var h=0;h<=this.num_points;h++)this.points[h]=n;this.midpoint.call(this,0,this.num_points,s)}o.prototype={constructor:o,midpoint:function(t,i,n){var e=Math.round((t+i)/2);i-t<=1||i===e||t===e||(this.points[e]=(this.points[t]+this.points[i])/2+n*(Math.random()*(2*this.jitter)-this.jitter),this.midpoint.call(this,t,e,n/2),this.midpoint.call(this,e,i,n/2))},render:function(i,n,e,s,o){var h=0;for(void 0!==o&&(i.globalAlpha=o),i.save(),i.translate(n,e),i.beginPath(),i.moveTo(0,this.points[0]);h<this.num_points-1;h+=2)i.lineTo(h*this.scale_x,this.points[h]),i.lineTo((h+1)*this.scale_x,this.points[h+1]);i.lineTo(this.width,this.points[0]),i.lineTo(this.width,this.height),i.lineTo(0,this.height),void 0!==s&&(i.fillStyle=s),(0,t.default)(i).call(i),i.closePath(),i.restore()}};var h,a,l,c,r,u,p=(n=n).getContext("2d"),d=document.createElement("canvas"),f=(d.getContext("2d"),{xspeed:10,slice_size:0,height_deviation:50,start_height:0});function g(){l.push(new o(h,f.slice_size+1,h-f.start_height,4,f.height_deviation,1))}function v(){if(!r){for(var t=0,n=l.length;t<n;t++)(c-=f.xspeed/100)<-f.slice_size&&((0,i.default)(l).call(l,0,1),g(),c=0);setTimeout(v,1e3/60)}}function m(){if(!r){p.clearRect(0,0,a,h);for(var t=0,i=l.length;t<i;t++)l[t].render(p,t*f.slice_size+c+1,0);u=requestAnimationFrame(m)}}setTimeout((function(){h=n.height=d.height=s,a=n.width=d.width=e,f.slice_size=a/4,f.start_height=h/4,function(){r=!1,l=[],c=0;for(var t=0;t<a/f.slice_size+2;t++)g();v(),m()}()}),100),this.destroy=function(){u&&(window.cancelAnimationFrame(u),u=null)}}EpubPlugins.creatClass({pluginName:"scrollingbg",createdCallback:function(){},attributeChangedCallback:function(){},attachedCallback:function(){this.plugin=new n(this.canvas,this.innerWidth,this.innerHeight)},create:function(){epub360.plugin.create({source:'<epub-scrollingbg style="pointer-events: none;width:100%;height:100%;position:absolute;overflow:hidden;" ></epub-scrollingbg>',type:"EpubScrollingbg"})},focus:function(t,i){},close:function(){},remove:function(){},resize:function(){}})}.call(void 0)}.apply(i,e))||(t.exports=s)}}]);