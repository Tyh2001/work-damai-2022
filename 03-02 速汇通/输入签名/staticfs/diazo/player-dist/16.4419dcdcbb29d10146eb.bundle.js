(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1187:function(e,t,i){var n,r,a=i(26),o=i(155),l=i(154),u=i(153),d=i(338);n=[t,i(213),i(156),i(23),i(157),i(78),i(14),i(55),i(357),i(33),i(846),i(103)],void 0===(r=function(e,t,n,r,c,v,s,f,y,p,g,w){"use strict";var b=i(0);function B(e,t){var i=a(e);if(o){var n=o(e);t&&(n=l(n).call(n,(function(t){return u(e,t).enumerable}))),i.push.apply(i,n)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(Object(i),!0).forEach((function(t){(0,r.default)(e,t,i[t])})):d?Object.defineProperties(e,d(i)):B(Object(i)).forEach((function(t){Object.defineProperty(e,t,u(i,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.setOverlaySizeByEid=e.setOverlayDetailByEid=e.setOverlayTransformByEid=e.setOverlayLeftTopByEid=e.setOverlayXYByEid=e.setGlobalOverlayValueByEid=e.setLayerOverlayValueByEid=e.setLegacyOverlayValueByEid=e.syncStateOverlayDetailByEid=e.setOverlayValueByEid=e.getOverlayDomByEid=e.getOverlayTransformByEid=e.getOverlayLeftTopByEid=e.getOverlayXYByEid=e.getOverlaySizeByEid=e.getOverlayValueByEid=e.getOverlaysByPageType=e.getOverlaysByTitle=e.getOverlaysByType=e.getOverlayDetailByEid=e.getOverlayModelByEid=e.getOverlayDataByEid=e.getOverlaysByPageId=e.getLegacyOverlayModelByEid=e.getLegacyExpressionIdByArgs=e.getLegacyExpressionArgs=e.getLegacyExpressionPageType=void 0,n=b(n),r=b(r),c=b(c),v=b(v),s=b(s);var O=function(e){var t,i,n,r,a;switch(!0){case!e:return p.PageTypeStr.Layer;case(null===(t=interaction_view.imasterlist)||void 0===t||null===(i=t.at(0))||void 0===i?void 0:i.id)===e:return p.PageTypeStr.Master;case(null===(n=interaction_view.ibackgroundlist)||void 0===n||null===(r=n.at(0))||void 0===r?void 0:r.id)===e:return p.PageTypeStr.Background;case(null===(a=interaction_view.iconfiglist)||void 0===a?void 0:a.at(0).id)===e:return p.PageTypeStr.ConfigPage;default:return p.PageTypeStr.Page}};e.getLegacyExpressionPageType=O;e.getLegacyExpressionArgs=function(e){return null!=e&&e.page.isLayer||e.layer_id?{layerOverlayId:e.id,overlayId:e.ref_id,pageId:e.iPageId,layerId:e.layer_id}:{pageId:e.iPageId,overlayId:e.id,pageType:O(e.iPageId)}};e.getLegacyExpressionIdByArgs=function(e){return(0,y.generatePageOverlayEid)(e)};var x=function(e){return interaction_view.expression.getElByEid(e)};e.getLegacyOverlayModelByEid=x;e.getOverlaysByPageId=function(e){var t,i,n=null===(t=w.bookStore.current)||void 0===t?void 0:(0,v.default)(t).call(t,e);return null!=n&&n.overlays?(0,s.default)(i=n.overlays).call(i,(function(e){return(0,f.toJS)(e)})):[]};e.getOverlayDataByEid=function(e){var t,i=null===(t=w.bookStore.current)||void 0===t?void 0:t.findOverlayByEid(e);return i?(0,f.toJS)(i):void 0};e.getOverlayModelByEid=function(e){return interaction_view.expression.getElByEid(e)};e.getOverlayDetailByEid=function(e){var t,i,n=null===(t=w.bookStore.current)||void 0===t?void 0:t.findOverlayByEid(e);return n?null===(i=(0,f.toJS)(n))||void 0===i?void 0:i.iDetail:void 0};e.getOverlaysByType=function(){};e.getOverlaysByTitle=function(){};e.getOverlaysByPageType=function(){};e.getOverlayValueByEid=function(e){if((0,y.isGlobalOverlayEid)(e))return(0,y.getGlobalOverlayValueByEid)(e);try{var t=x(e);if(t.iview.getExpValue)return t.iview.getExpValue();var i,n,r,a=null===(i=w.bookStore.current)||void 0===i?void 0:i.findOverlayByEid(e);return a?null===(n=(0,f.toJS)(a))||void 0===n||null===(r=n.iDetail)||void 0===r?void 0:r.value:void 0}catch(e){return""}};e.getOverlaySizeByEid=function(){};e.getOverlayXYByEid=function(){};e.getOverlayLeftTopByEid=function(){};e.getOverlayTransformByEid=function(){};e.getOverlayDomByEid=function(){};var k=function(){var e=(0,c.default)(n.default.mark((function e(t,i){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,i);case 2:P(t);case 3:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}();e.setOverlayValueByEid=k;var P=function(e,t){var i,n,r,a=null===(i=w.bookStore.current)||void 0===i?void 0:i.findOverlayByEid(e),o=x(e);null!=a&&a.iDetail&&null!=o&&null!==(n=o.attributes)&&void 0!==n&&n.iDetail&&(a.setDetail(E(E({},a.iDetail),null==o||null===(r=o.attributes)||void 0===r?void 0:r.iDetail)),void 0!==t&&a.setDetail({value:t}))};e.syncStateOverlayDetailByEid=P;var m=function(){var e=(0,c.default)(n.default.mark((function e(t,i){var r,a,o;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,y.isLayerOverlayEid)(t),a=(0,y.getExpressionTypeByEid)(t),(0,y.unWrapEidTypeSign)(t),e.t0=!0,e.next=e.t0===r?6:e.t0===(a===y.ExpressionType.global)?8:10;break;case 6:return D(t,i),e.abrupt("break",29);case 8:return h(t,i),e.abrupt("break",29);case 10:if(!(o=x(t))){e.next=29;break}if(!o.iview.setVariable){e.next=16;break}o.iview.setVariable("",i),e.next=29;break;case 16:if(!o.iview.updateText){e.next=22;break}return 0,e.next=20,o.iview.updateText(i,0);case 20:e.next=29;break;case 22:if("ImageBlock"!=o.get("iType")&&"Image"!=o.get("iType")){e.next=26;break}o.iview.replaceImg(i),e.next=29;break;case 26:if(!o.iview.setVar){e.next=29;break}return e.next=29,o.iview.setVar(i);case 29:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}();e.setLegacyOverlayValueByEid=m;var D=function(e,t){var i=x(e);i&&(i.iview.setVariable?i.iview.setVariable("",t):i.iview.updateText?i.iview.updateText(t,0):"ImageBlock"!=i.get("iType")&&"Image"!=i.get("iType")||i.iview.replaceImg(t))};e.setLayerOverlayValueByEid=D;var h=function(e,t){var i,n=x(e);if(n){var r=(0,y.getGlobalOverlayIdByEid)(e);0==n.attributes.iDetail.iKind&&(i=function(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(t=Number(e),isNaN(t))?t=NaN:t=t>0&&"0"===(null==e?void 0:e[0])?e:Number(null===(i=t)||void 0===i?void 0:i.toFixed(Number(n)||0));return t}(t)),n.attributes.iDetail.initial!==i&&(n.attributes.iDetail.initial=i),"ShareVariable"==n.attributes.iType&&((0,g.setShareLink)(_g.changeURLPar(message_link,r,t)),interaction_view.weixin.share())}};e.setGlobalOverlayValueByEid=h;e.setOverlayXYByEid=function(){};e.setOverlayLeftTopByEid=function(){};e.setOverlayTransformByEid=function(){};e.setOverlayDetailByEid=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=x(e);if(null!=n&&null!==(t=n.attributes)&&void 0!==t&&t.iDetail){var r;n.attributes.iDetail=E(E({},n.attributes.iDetail),i);var a=null===(r=w.bookStore.current)||void 0===r?void 0:r.findOverlayByEid(e);null!=a&&a.iDetail&&a.setDetail(E(E({},a.iDetail),i))}};e.setOverlaySizeByEid=function(){}}.apply(t,n))||(e.exports=r)},1979:function(e,t,i){var n,r;n=[t,i(55),i(103)],void 0===(r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPages=e.createLegacyBookModelByData=e.switchBook=e.isPreview=e.setInfo=e.exitFullScreen=e.enterFullScreen=e.resize=e.adaptScreen=e.getInfo=void 0;e.getInfo=function(){return(0,t.toJS)(n.bookStore.current)};var r=function(){window.adjust_screen()};e.adaptScreen=r;e.resize=function(e){var t=e.width,i=void 0===t?window.Reveal.options.width:t,n=e.height,a=void 0===n?window.Reveal.options.height:n;window.Reveal.options.width=i,window.Reveal.options.height=a,r()};e.enterFullScreen=function(){document.documentElement.requestFullscreen()};e.exitFullScreen=function(){document.fullscreenElement&&document.exitFullscreen()};e.setInfo=function(){};e.isPreview=function(){};e.switchBook=function(){};e.createLegacyBookModelByData=function(e){var t=i(1168);interaction_view.doc=new t({id:"doc"});var n=interaction_view.doc.parse(e);return interaction_view.doc.set(n),t};e.getPages=function(){var e;return(0,t.toJS)(null===(e=n.bookStore.current)||void 0===e?void 0:e.pages)}}.apply(t,n))||(e.exports=r)},1987:function(e,t,i){var n,r;n=[t,i(377)],void 0===(r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDebug=e.isDjangoRender=e.isEditorPreview=e.isPlayerPreview=void 0;e.isPlayerPreview=function(){var e;return!(null===(e=window)||void 0===e||!e.preview_mode)};e.isEditorPreview=function(){return!!interaction_view.forEdit};e.isDjangoRender=function(){return!(0,t.isStaticRender)()};e.isDebug=function(){return!!_g.getUrlParameterByName("-debug")}}.apply(t,n))||(e.exports=r)},1988:function(e,t,i){var n,r;n=[t,i(994)],void 0===(r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=_g.device;e.default=i}.apply(t,n))||(e.exports=r)},1990:function(e,t,i){var n,r;n=[t,i(156),i(157),i(154),i(336),i(3),i(1391)],void 0===(r=function(e,t,n,r,a,o,l){"use strict";var u=i(0);Object.defineProperty(e,"__esModule",{value:!0}),e.loadJs=e.executeCode=e.executeCustomApi=e.log=e.isMPBank=e.isWeibo=e.isWebWeixin=e.isQQ=e.isDev=e.isDesktop=e.isMobile=e.isAndroid=e.isIos=e.isWeixin=e.getDeviceInfo=void 0,t=u(t),n=u(n),r=u(r),a=u(a),o=u(o),l=u(l);e.getDeviceInfo=function(){};e.isWeixin=function(){};e.isIos=function(){};e.isAndroid=function(){};e.isMobile=function(){};e.isDesktop=function(){};e.isDev=function(){};e.isQQ=function(){};e.isWebWeixin=function(){};e.isWeibo=function(){};e.isMPBank=function(){};e.log=function(){};e.executeCustomApi=function(){};e.executeCode=function(){};var d=[];e.loadJs=function(e){if(e){if(Array.isArray(e)){if(!(e=(0,r.default)(e).call(e,(function(e){return!(0,a.default)(d).call(d,e)}))).length)return(0,n.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))();d=(0,o.default)(d).call(d,e)}else{if((0,a.default)(d).call(d,e))return(0,n.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))();d.push(e)}return(0,l.default)(e,{returnPromise:!0})}}}.apply(t,n))||(e.exports=r)},1991:function(e,t,i){var n,r;n=[t,i(96)],void 0===(r=function(e,t){"use strict";var n=i(0);Object.defineProperty(e,"__esModule",{value:!0}),e.messagePop=e.promptBox=e.confirmBox=e.infoBox=e.alertBox=void 0,t=n(t);var r=function(e){return new t.default((function(t){interaction_view.errorAlert(e,t)}))};e.alertBox=r;var a=r;e.infoBox=a;e.confirmBox=function(e){return new t.default((function(t){interaction_view.confirmBox(e,t)}))};e.promptBox=function(){};e.messagePop=function(){}}.apply(t,n))||(e.exports=r)},761:function(e,t,i){var n,r,a=i(158);n=[i,i(11),i(96),i(14),i(212),i(153),i(409),i(1979),i(411),i(1987),i(1988),i(1187),i(1990),i(103),i(357),i(1991),i(1188),i(1056),i(218)],void 0===(r=function(e,t,n,r,o,l,u,d,c,v,s,f,y,p,g,w,b,B,E){"use strict";var O,x,k,P,m,D,h=i(0);function S(e){if("function"!=typeof o.default)return null;var t=new o.default,i=new o.default;return(S=function(e){return e?i:t})(e)}function _(e,i){if(!i&&e&&e.__esModule)return e;if(null===e||"object"!==(0,t.default)(e)&&"function"!=typeof e)return{default:e};var n=S(i);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&l.default;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?(0,l.default)(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(t=h(t),n=h(n),r=h(r),o=h(o),l=h(l),u=_(u),d=_(d),c=_(c),v=_(v),s=_(s),f=_(f),y=_(y),g=_(g),w=_(w),b=h(b),(0,v.isDebug)()&&new n.default((function(e,t){return i.e(107).then((function(){var t=[i(2261)];(function(t){return e(_(t))}).apply(null,t)})).catch(t.bind(this))})),null!==(O=window.$api)&&void 0!==O&&null!==(x=O.book)&&void 0!==x&&x.on)&&(0,r.default)(m=a(E)(window.$api.book.on)).call(m,(function(e){var t;window.$api.book.on[e]&&(null===(t=b.default.get(e))||void 0===t||t.subscribe(window.$api.book.on[e]))}));null!==(k=window.$api)&&void 0!==k&&null!==(P=k.page)&&void 0!==P&&P.on&&(0,r.default)(D=a(E)(window.$api.page.on)).call(D,(function(e){var t;window.$api.page.on[e]&&(null===(t=B.currentPageRxBus.get(e))||void 0===t||t.subscribe(window.$api.page.on[e]))}));window.$api={books:u,book:d,page:c,player:v,device:s,overlay:f,expression:g,dialog:w,helper:y},window.$api.book.on=function(e,t){var i;return null===(i=b.default.get(e))||void 0===i?void 0:i.subscribe(t)},window.$api.page.on=function(e,t){var i;return null===(i=B.currentPageRxBus.get(e))||void 0===i?void 0:i.subscribe(t)},window.$store=p.bookStore}.apply(t,n))||(e.exports=r)}}]);