(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{3007:function(e,t,n){var l,a;l=[t,n(215),n(14),n(346),n(797),n(124),n(800),n(1844),n(1928),n(1458),n(1345),n(3357),n(3376),n(1932),n(833),n(1217)],void 0===(a=function(e,t,l,a,u,o,d,r,i,c,f,s,m,v,p,E){"use strict";var _=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=_(t),l=_(l),a=_(a),u=_(u),o=_(o),f=_(f),s=_(s),m=_(m),v=_(v),E=_(E);var b=function(e){var n=e.iDetail,p=e.onSuccess;if(null==n||!n.field)return o.default.createElement(o.default.Fragment,null);var _=f.default.useRxjsStore(),b=(0,u.default)(_,1)[0],g=null==n?void 0:n.field,h=g.widget_type,w=g.config,k=(0,r.getComponents)(h),y=(0,t.default)({},null==n?void 0:n.field,w),F=function(){(0,i.AddFormData)(String(interaction_view.doc.id),b.formData).then((function(e){d.Modal.success({title:"提交成功",content:o.default.createElement("div",null,o.default.createElement("p",null,y.buttonTipText?y.buttonTipText:"感谢您的参与")),onOk:function(){p()}}),E.default.subject("BookFormSubmitSuccess").next(b.formData)})).catch((function(e){d.Modal.error({content:o.default.createElement("div",null,o.default.createElement("p",null,"提交失败"),o.default.createElement("p",null,e.response.data.msg)),onOk:function(){}})}))};return o.default.createElement(v.default,{styled:b.styled,className:m.default.button},o.default.createElement(d.Form.Item,null,o.default.createElement(k,(0,a.default)({},y,{onClick:function(){(0,i.GetFormField)(String(interaction_view.doc.id)).then((function(e){var t={data:b.formData,rules:e.data.data.results},n=(0,s.default)(t);0===n.length?(0,i.GetFormInfo)(String(interaction_view.doc.id)).then((function(e){e.data.data.results[0].user_info.can_save_nums>=1||-1===e.data.data.results[0].user_info.can_save_nums?F():(0,c.showErrorPop)("提交次数已用完或表单不在有效期")})):d.Modal.error({title:"校验失败",content:o.default.createElement("div",null,o.default.createElement("h4",null,"表单校验结果"),(0,l.default)(n).call(n,(function(e,t){return o.default.createElement("div",{key:t},o.default.createElement("hr",null),o.default.createElement("h5",null,e.label),o.default.createElement("p",null,e.msg))}))),onOk:function(){}})}))}}))))};e.default=b}.apply(t,l))||(e.exports=a)},3357:function(e,t,n){var l,a;l=[t,n(1930)],void 0===(a=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.validateAll;e.default=n}.apply(t,l))||(e.exports=a)},3376:function(e,t,n){e.exports={button:"_1nF6gzCOhlBWIQJzul3LG-"}}}]);