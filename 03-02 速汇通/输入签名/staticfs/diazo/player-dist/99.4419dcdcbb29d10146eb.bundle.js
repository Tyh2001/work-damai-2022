(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{2696:function(t,i,n){var h,e;h=[n(27)],void 0===(e=function(t){"use strict";var i=n(0);t=i(t),function(){function i(i,n,h){var e,s,o,a,r;(r=Sketch.create({container:i,width:n,height:h})).width=n,r.height=h,r.mouse.x=r.width/10,r.mouse.y=r.height,a=[],o=1,(e=function(t){return this.reset(t)}).prototype.reset=function(t){return this.layer=t.layer,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.color=t.color},(s=function(t){return this.x=0,this.mountains=[],this.layer=t.layer,this.width={min:t.width.min,max:t.width.max},this.height={min:t.height.min,max:t.height.max},this.speed=t.speed,this.color=t.color,this.populate(),this}).prototype.populate=function(){var t,i,n,h;for(h=0,n=[];h<=r.width+4*this.width.max;)i=round(random(this.width.min,this.width.max)),t=round(random(this.height.min,this.height.max)),this.mountains.push(new e({layer:this.layer,x:0===this.mountains.length?0:this.mountains[this.mountains.length-1].x+this.mountains[this.mountains.length-1].width,y:r.height-t,width:i,height:t,color:this.color})),n.push(h+=i);return n},s.prototype.update=function(){var t,i,n,h;if(this.x-=r.mouse.x*this.speed*o,(t=this.mountains[0]).width+t.x+this.x<-this.width.max)return h=round(random(this.width.min,this.width.max)),n=round(random(this.height.min,this.height.max)),i=this.mountains[this.mountains.length-1],t.reset({layer:this.layer,x:i.x+i.width,y:r.height-n,width:h,height:n,color:this.color}),this.mountains.push(this.mountains.shift())},s.prototype.render=function(){var i,n,h,e;r.save(),r.translate(this.x,(r.height-r.mouse.y)/20*this.layer),r.beginPath(),e=this.mountains.length,r.moveTo(this.mountains[0].x,this.mountains[0].y);for(var s=h=0,o=e-2;h<=o;s=h+=1)i=(this.mountains[s].x+this.mountains[s+1].x)/2,n=(this.mountains[s].y+this.mountains[s+1].y)/2,r.quadraticCurveTo(this.mountains[s].x,this.mountains[s].y,i,n);return r.lineTo(r.width-this.x,r.height),r.lineTo(0-this.x,r.height),r.closePath(),r.fillStyle=this.color,(0,t.default)(r).call(r),r.restore()},r.setup=function(){var t,i;for(t=5,i=[];t--;)i.push(a.push(new s({layer:t+1,width:{min:50*(t+1),max:70*(t+1)},height:{min:200-40*t,max:300-40*t},speed:.003*(t+1),color:"hsl( 120, "+(1*(t+1)+10)+"%, "+(75-13*t)+"% )"})));return i},r.clear=function(){return r.clearRect(0,0,r.width,r.height)},r.update=function(){var t,i;for(o=(o=r.dt<.1?.1:r.dt/16)>5?5:o,t=a.length,i=[];t--;)i.push(a[t].update(t));return i},r.draw=function(){var t,i;for(t=a.length,i=[];t--;)i.push(a[t].render(t));return i}}window.EpubPlugins.creatClass({pluginName:"mountains",_createdCallback:function(){var t=document.querySelector(".doc-layout-center-bd"),i=(t&&t.offsetHeight,t&&t.offsetWidth,this.createShadowRoot()),n=["<style>","*{margin: 0;padding: 0;}","#canvas {","}","</style>"].join(""),h=['<div id="canvas">',"</div>"].join("");i.innerHTML=n+h},createdCallback:function(){},attributeChangedCallback:function(t,i,n){},attachedCallback:function(){var t=new i(this.canvas,this.innerWidth,this.innerHeight);this.plugin=t},create:function(){epub360.plugin.create({source:'<epub-mountains style="pointer-events: none;width:100%;height:100%;position:absolute;overflow:hidden;" ></epub-mountains>',type:"EpubMountains"})},focus:function(t,i){},close:function(){},remove:function(){},resize:function(){}})}.call(void 0)}.apply(i,h))||(t.exports=e)}}]);