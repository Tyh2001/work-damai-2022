(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{2670:function(e,t,i){var n,r;n=[i(98),i(100),i(337),i(154),i(78),i(14),i(63)],void 0===(r=function(e,t,n,r,a,u,o){"use strict";var l=i(0);n=l(n),r=l(r),a=l(a),u=l(u),o=l(o);epub360.PlayerPlugins.push({config:{type:"QuizGroup",template:"others"},render:function(){},immediateRender:function(){},setOtherDisplay:function(){},onPlay:function(){this.initRuntimeData(),0==this.model.attributes.iDetail.type&&this.initSingleSelectHandler()},otherOnShow:function(){},otherOnHide:function(){},onStop:function(){},initRuntimeData:function(){var e,t,i=i||this,n=i.runtimeCache={};n.groupValue=null;var o=[],l=this.model.layer_id,c=this.model.attributes.iDetail;if(l){var d,s=(0,a.default)(d=interaction_view.getCurrentPageModel().iOverlaylist.models).call(d,(function(e){return e.layer&&e.layer[l]}));if(s){var f,h=s.layer[l].iOverlaylist.models;o=(0,u.default)(f=c.buttons).call(f,(function(e){return(0,a.default)(h).call(h,(function(t){return t.id==e.id}))}))}}else{var m;o=(0,u.default)(m=c.buttons).call(m,(function(e){return interaction_view.getPageElement(e.page_id,e.id)}))}o=(0,r.default)(o).call(o,(function(e){return e})),n.buttonModelList=o,n.indexMap=(0,u.default)(e=c.buttons).call(e,(function(e){return i.obj2str(e,["id","page_id"])})),n.correctMap=(0,u.default)(t=c.corrects).call(t,(function(e){return i.obj2str(e,["id","page_id"])})),n.checkedModelList=[],interaction_view.runtimeCache=interaction_view.runtimeCache||{answerCaching:{}};var v=interaction_view.runtimeCache.answerCaching;v[interaction_view.currentPage]=v[interaction_view.currentPage]||[],v=v[interaction_view.currentPage],i.model.attributes.iDetail.answerCaching&&v.forEach((function(e){e.iview.switchStatus("active")}))},obj2str:function(e,t){return(0,u.default)(t).call(t,(function(t){return function(e,t){var i,a;return(0,n.default)(i=(0,r.default)(a=t.split(/[.\[\]]+/)).call(a,(function(e){return e}))).call(i,(function(e,t){return e?e[t]:void 0}),e)}(e,t)})).join("^_^")},isSameModel:function(e,t,i){i=i||e.attributes.layerid?["id","attributes.layerid"]:["id","iPageId"];var n=this.obj2str;return n(e,i)==n(t,i)},someItemChanged:function(e){var t,i=i||e.groupView||this;i.runtimeCache.groupValue=null,i.isSameModel(e.model,i.runtimeCache.checkedModelList[0]||{})?e.switchStatus("active"):(i.runtimeCache.buttonModelList.forEach((function(e){e.iview.switchStatus("normal")})),e.switchStatus("active"),i.runtimeCache.checkedModelList=[e.model],interaction_view.runtimeCache.answerCaching[interaction_view.currentPage]=[e.model]);var n=e.model.attributes.layerid?["id","attributes.layerid"]:["id","iPageId"];-1==(0,o.default)(t=i.runtimeCache.correctMap).call(t,i.obj2str(e.model,n))?interaction_view.events.onQuizGroupSelectWrong(i,{}):interaction_view.events.onQuizGroupSelectCorrect(i,{}),interaction_view.events.onButtonGroupSelectEnd(i,{})},initSingleSelectHandler:function(){var e=e||this;this.runtimeCache.buttonModelList.forEach((function(t){t.iview.setAsGroupElement(e)})),window.globalBus.off("buttonGroupClick:QuizGroup"),window.globalBus.on("buttonGroupClick:QuizGroup",e.someItemChanged)},getButtonGroupValue:function(){var e,t=t||this;if(t.runtimeCache){if(null!==t.runtimeCache.groupValue)return t.runtimeCache.groupValue;var i;if(t.runtimeCache.checkedModelList.length)e=(0,u.default)(i=t.runtimeCache.checkedModelList).call(i,(function(e){return t.getItemValue(e)})).join(",");else e="";return t.runtimeCache.groupValue=e,e}return""},getItemValue:function(e){var t,i=i||this,n=i.model.attributes.iDetail.buttons[(0,o.default)(t=i.runtimeCache.indexMap).call(t,e.layer_id?i.obj2str(e,["id","layer_id"]):i.obj2str(e,["id","iPageId"]))],r=""+(n.value||"");return i.obj2str(e,["id","iPageId"])!=i.obj2str(n,["id","page_id"])&&i.model.attributes.iDetail.buttons.forEach((function(t){e.id==t.id&&e.iPageId==t.page_id&&(r=""+t.value)})),r},getExpValue:function(){return this.getButtonGroupValue()}})}.apply(t,n))||(e.exports=r)}}]);