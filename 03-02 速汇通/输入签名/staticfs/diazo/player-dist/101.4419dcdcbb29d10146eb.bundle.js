(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{2706:function(t,i,e){var n,s;n=[e(27)],void 0===(s=function(t){"use strict";var i=e(0);t=i(t),function(){function i(i,e,n){var s,a,o=(i=i).getContext("2d"),r=1.5*e,h=1.5*n,c=[];function l(t,i){return Math.random()*(i-t)+t}function u(){o.clearRect(0,0,r,h);for(var t=c.length,i=0;i<t;i++){var e=c[i];e.fall(),e.draw()}a=window.requestAnimFrame(u)}function f(){this.reset=function(){this.r=l(.8,1.6),this.l=250*this.r,this.x=l(-.25*r,1.125*r),this.y=l(-.25*h,-1*h),this.dx=l(2,8),this.dy=70*this.r,this.offset=this.l*(this.dx/this.dy),this.opacity=this.r*l(.2,.6),this.drip=this.render()},this.render=function(){var i=document.createElement("canvas"),e=i.getContext("2d");i.setAttribute("width",Math.abs(this.offset)+this.r),i.setAttribute("height",this.l),e.beginPath();var n=e.createLinearGradient(0,0,0,this.l);n.addColorStop(0,"rgba(255,255,255, 0)"),n.addColorStop(1,"rgba(255,255,255, "+this.opacity+")"),e.fillStyle=n;var s=this.offset>=0?0:Math.abs(this.offset);return e.moveTo(s,0),e.lineTo(s+this.r,0),e.lineTo(s+this.r+this.offset,this.l),e.lineTo(s+this.offset,this.l),e.closePath(),(0,t.default)(e).call(e),i},this.draw=function(){o.drawImage(this.drip,this.x,this.y)},this.fall=function(){this.x+=this.dx,this.y+=this.dy,this.y>1.25*h&&this.reset()}}this.destroy=function(){a&&(window.cancelAnimationFrame(a),a=null)},h=1.5*n,s=.11*(r=1.5*e),i.setAttribute("width",r),i.setAttribute("height",h),function(){for(var t=0;t<s;t++)c[t]=new f,c[t].reset();u()}()}EpubPlugins.creatClass({pluginName:"rain",createdCallback:function(){},attributeChangedCallback:function(){},attachedCallback:function(){this.plugin=new i(this.canvas,this.innerWidth,this.innerHeight)},create:function(){epub360.plugin.create({source:'<epub-rain style="pointer-events: none;width:100%;height:100%;position:absolute;overflow:hidden;" ></epub-rain>',type:"EpubRain"})},focus:function(t,i){},close:function(){},remove:function(){},resize:function(){}})}.call(void 0)}.apply(i,n))||(t.exports=s)}}]);